<div class="flex justify-center mt-10">
  <div class="max-w-6xl w-full px-4">
    <h2 class="text-2xl font-bold mb-4 " >Cadastro de Produtos</h2>

    <form>
      <div class="flex flex-wrap -mx-2">
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Nome do Produto:</label>
          <input type="text" [(ngModel)]="produto.nome" name="nome" class="w-full p-2 border rounded">
        </div>
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Quantidade:</label>
          <input type="number" [(ngModel)]="produto.quantidade" name="quantidade" class="w-full p-2 border rounded">
        </div>
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Custo do Produto:</label>
          <input type="number" [(ngModel)]="produto.custo" name="custo" class="w-full p-2 border rounded">
        </div>
      </div>
      <div class="flex flex-wrap -mx-2 mt-4">
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Outros Custos:</label>
          <input type="number" [(ngModel)]="produto.outrosCustos" name="outrosCustos" class="w-full p-2 border rounded">
        </div>
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Taxa:</label>
          <select [(ngModel)]="produto.taxa" name="taxa" class="w-full p-2 border rounded">
            <option value="shopee">Shopee</option>
            <option value="mercadolivre">Mercado Livre</option>
          </select>
        </div>
        <div class="w-full md:w-1/3 px-2">
          <label class="block mb-2">Lucro Final:</label>
          <input type="number" readonly [value]="calcularLucroFinal(produto)" name="lucroFinal" class="w-full p-2 border rounded">
        </div>
      </div>
      <div class="flex justify-center items-center">
        <button (click)="cadastrarProduto()" [disabled]="botaoCadastrarDesativado" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded ">
          Cadastrar
        </button>
        <button *ngIf="produto._id" (click)="atualizarProduto()" class="mt-4 ml-4 px-4 py-2 bg-green-500 text-white rounded">
          Atualizar
        </button>
      </div>

    </form>

    <h2 class="text-2xl font-bold mt-8 mb-4">Lista de Produtos</h2>

    <table class="w-full">
      <tr>
        <th>Nome do Produto</th>
        <th>Quantidade</th>
        <th>Custo do Produto</th>
        <th>Outros Custos</th>
        <th>Taxa</th>
        <th>Lucro Final</th>
        <th>Ações</th>
      </tr>
      <tr *ngFor="let produto of produtos">
        <td class="text-center">{{ produto.nome }}</td>
        <td class="text-center">{{ produto.quantidade }}</td>
        <td class="text-center">{{ produto.custo }}</td>
        <td class="text-center">{{ produto.outrosCustos }}</td>
        <td class="text-center">{{ produto.taxa }}</td>
        <td class="text-center">{{ calcularLucroFinal(produto) }}</td>
        <td class="text-center">
          <button (click)="editarProduto(produto._id)" class="mr-2 px-4 py-2 bg-blue-500 text-white rounded">
            Editar
          </button>
          <button (click)="excluirProduto(produto._id)" class="px-4 py-2 bg-red-500 text-white rounded">
            Excluir
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>
